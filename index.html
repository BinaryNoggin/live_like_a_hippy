<!DOCTYPE html>
<html>
  <head>
    <title>Live Like a Hippy</title>
    <meta charset="utf-8">
    <style>
      @import url(https://fonts.googleapis.com/css?family=Yanone+Kaffeesatz);
      @import url(https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic);
      @import url(https://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700,400italic);

      body { font-family: 'Droid Serif'; }
      h1, h2, h3 {
        font-family: 'Yanone Kaffeesatz';
        font-weight: normal;
      }
      .remark-code, .remark-inline-code { font-family: 'Ubuntu Mono'; }
      .white {
        color: white;
      }
      .sized img {
        width: 95%;
        height: 95%;
      }
      .small img {
        width: 60%;
        height: 60%;
      }
      .smaller img {
        width: 50%;
        height: 50%;
      }
    </style>
  </head>
  <body>
    <textarea id="source">

class: center, top
background-image: url(images/hippies.jpg)

# Live Like a Hippy

---

# Who am I?

* Amos King
* @adkron
* Binary Noggin
* This Agile Life

---
class: center, middle

.sized[![image](images/family.jpg)]

???

I like to spawn processes
I'm almost like Johnny

---

.sized[![image](images/brut.jpg)]

???

* Where do I store data?
* Give background of idea
* Why?
* Throw it in the DB

---

Using the DB
============

.small[![image](images/passive.jpg)]

???

* Show DB implementation
* Didn't want this
* Better than another dependency for me
* Slower than some dependencies

---

# What does it mean to live like a hippy?

.sized[![image](images/hippies2.jpg)]

???

* Festivals are like conferences
* Free of constraints
* Enjoying life

---

# Processes

.sized[![image](images/processes.jpg)]

???

* Saša Jurić
* Processes

---

.sized[![image](images/processes-with-data.jpg)]

???

* Agentitis

---

# Why?

---

# Why?

# Because DDoS

---

# Why?

* Dependencies

???

* One less library to depend on

---

# Why?

* Dependencies
* Deployment

???

* One less thing to worry about deploy

---

# Why?

* Dependencies
* Deployment
* Optimization

???

* what is faster than data in an in memory database?

---

# Why?

* Dependencies
* Deployment
* Optimization
* Security

???

* Attack footprint
* Shodan 6,550 insecure Redis instances

---

.sized[![image](images/uncle_bob.png)]

???

* Uncle Bob - Put off persistence as long as possible
* Architecture - The Lost Years

---

# Live Like a Horde(r)

.sized[![image](images/horde.jpg)]

---

# Err, Hoarder

.sized[![image](images/unorganized-hoarding.jpg)]

---

# Classify Our Data

.sized[![image](images/organized-hoarding.jpg)]

???

1. Classify your junk
2. Put it in the right place
3. Protect your junk

---

Premanent
=========

* Static
* Changing

???

## Static

* Config files
* Store in code

## Changing

* Medical History
* Blog comments
* User Data - Email, or Name

---

Temporary
=========

* Temporal
* Transient
* Ephemeral

???

* Temporal - Relating to Time
* Transient - lasting only a short time
* Ephemeral - lasting for a very short time

---

.small[![image](images/agent.jpg)]

???

* Didn't want this
* Better than another dependency for me
* Slower than some dependencies

---

#### What about crashes?

.smaller[![image](images/hiro.png)]

???

* Move business logic away from

Keep the data you are storing focued
"Keep state together that changes together"

It will fail so let it fail

---

# GenServer

???

Call vs Cast to push data

Callbacks

Custom termination logic

---

Gotchas
=======

* Expiration
* Distributed
* Binary Data

???

Memory bloat
Signed Keys and user id in url

cachex - elixir lib
ecache - erlang lib

Phoenix.Presence
Chris McCord ElixirConf EU 2016 - Phoenix 1.2

---

Binary Data
===========

* Bad GC in Erlang
* <= 64 bytes in process heap
* greater than 64 bytes stored in ProcBin - shared memory and Ref counted
* GC only when memory preesure ~90% of system memory

???

* open :observer
* UUID is binary
* 36 bytes under limit


    </textarea>
    <script src="https://gnab.github.io/remark/downloads/remark-latest.min.js">
    </script>
    <script>
      var slideshow = remark.create();
    </script>
  </body>
</html>
